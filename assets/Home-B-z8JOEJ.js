import{_ as a,c as p,o as c,a as n,w as l,v as u,t as r,b as d}from"./index-uH9OSl46.js";const x={data(){return{inputText:"",outputText:"",pinyinText:"",isEditingOutput:!1,isEditingPinyin:!1,loading:!1,loadingAudio:!1,audio:null}},methods:{async translateText(){if(this.inputText.trim()){this.loading=!0,this.outputText="",this.pinyinText="";try{const i=await d.get(`http://tts001.iptcloud.net:8804/html_taigi_zh_tw?text0=${encodeURIComponent(this.inputText)}`);this.outputText=i.data||"翻譯失敗",this.getPinyin(this.outputText)}catch(i){console.error("翻譯 API 錯誤:",i),this.outputText="翻譯錯誤"}finally{this.loading=!1}}},async getPinyin(i){if(i.trim())try{const t=await d.get(`http://tts001.iptcloud.net:8804/html_taigi_tw_py?text0=${encodeURIComponent(i)}`);this.pinyinText=t.data||"拼音取得失敗"}catch(t){console.error("拼音 API 錯誤:",t),this.pinyinText="拼音取得錯誤"}},async playAudio(){if(this.outputText.trim()){this.loadingAudio=!0;try{const i=`http://tts001.iptcloud.net:8804/synthesize_TLPA?text1=${encodeURIComponent(this.outputText)}&gender=%E5%A5%B3%E8%81%B2&accent=%E5%BC%B7%E5%8B%A2%E8%85%94%EF%BC%88%E9%AB%98%E9%9B%84%E8%85%94%EF%BC%89`;this.audio&&(this.audio.pause(),this.audio=null),this.audio=new Audio(i),this.audio.play()}catch(i){console.error("語音播放錯誤:",i)}finally{this.loadingAudio=!1}}},copyToClipboard(i){i.trim()&&navigator.clipboard.writeText(i).then(()=>{alert("已複製到剪貼簿！")}).catch(t=>{console.error("複製失敗:",t)})},clearInput(){this.inputText=""},toggleEdit(i){i==="output"?this.isEditingOutput=!this.isEditingOutput:i==="pinyin"&&(this.isEditingPinyin=!this.isEditingPinyin)}}},h={class:"container"},y={class:"translator"},T={class:"input-group"},g={class:"button_container"},_=["disabled"],f={class:"input-group"},b=["readonly"],E={class:"button_container"},m={class:"input-group"},v=["readonly"],C={class:"button_container"},A=["disabled"];function B(i,t,I,P,e,s){return c(),p("div",h,[t[9]||(t[9]=n("h1",null,"翻譯器",-1)),n("div",y,[n("div",T,[l(n("textarea",{"onUpdate:modelValue":t[0]||(t[0]=o=>e.inputText=o),placeholder:"輸入要翻譯的文字"},null,512),[[u,e.inputText]]),n("div",g,[n("button",{onClick:t[1]||(t[1]=(...o)=>s.translateText&&s.translateText(...o)),disabled:e.loading},r(e.loading?"翻譯中...":"翻譯"),9,_),n("button",{onClick:t[2]||(t[2]=(...o)=>s.clearInput&&s.clearInput(...o))},"🗑 清除"),n("button",{onClick:t[3]||(t[3]=o=>s.copyToClipboard(e.inputText))},"📋 複製")])]),n("div",f,[l(n("textarea",{readonly:!e.isEditingOutput,"onUpdate:modelValue":t[4]||(t[4]=o=>e.outputText=o),placeholder:"翻譯結果"},null,8,b),[[u,e.outputText]]),n("div",E,[n("button",{onClick:t[5]||(t[5]=o=>s.copyToClipboard(e.outputText))},"📋 複製")])]),n("div",m,[l(n("textarea",{readonly:!e.isEditingPinyin,"onUpdate:modelValue":t[6]||(t[6]=o=>e.pinyinText=o),placeholder:"拼音結果"},null,8,v),[[u,e.pinyinText]]),n("div",C,[n("button",{onClick:t[7]||(t[7]=(...o)=>s.playAudio&&s.playAudio(...o)),disabled:!e.outputText||e.loadingAudio},r(e.loadingAudio?"生成語音中...":"🔊 發音"),9,A),n("button",{onClick:t[8]||(t[8]=o=>s.copyToClipboard(e.pinyinText))},"📋 複製")])])])])}const w=a(x,[["render",B],["__scopeId","data-v-bc8c7690"]]);export{w as default};
